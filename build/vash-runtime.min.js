/**
 * Vash - JavaScript Template Parser, v0.5.13-1803
 *
 * https://github.com/kirbysayshi/vash
 *
 * Copyright (c) 2012 Andrew Petersen
 * MIT License (LICENSE)
 */
 
(function(){vash=typeof vash=="undefined"?{}:vash,!vash.compile&&typeof define=="function"&&define.amd?define(function(){return vash}):!vash.compile&&typeof module=="object"&&module.exports?module.exports=vash:vash.compile||(window.vash=vash);var a=vash.helpers,b,c;a||(b=function(a){this.buffer=new c,this.model=a,this.vl=0,this.vc=0},vash.helpers=a=b.prototype={constructor:b,config:{}}),a.toString=a.toHtmlString=function(){return this.buffer.toString()};var d=/[&<>"'`]/g,e=function(a){return f[a]},f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};a.raw=function(a){var b=function(){return a};a=a!=null?a:"";return{toHtmlString:b,toString:b}},a.escape=function(a){var b=function(){return a};a=a!=null?a:"";if(typeof a.toHtmlString!="function"){a=a.toString().replace(d,e);return{toHtmlString:b,toString:b}}return a},c=function(){this._vo=[]},c.prototype.mark=function(a){var b=new g(this,a);b.markedIndex=this._vo.length,this._vo.push(b.uid);return b},c.prototype.fromMark=function(a){var b=a.findInBuffer();if(b>-1){a.destroy();return this._vo.splice(b,this._vo.length)}return[]},c.prototype.spliceMark=function(a,b,c){var d=a.findInBuffer();if(d>-1){a.destroy(),arguments[0]=d;return this._vo.splice.apply(this._vo,arguments)}return[]},c.prototype.empty=function(){return this._vo.splice(0,this._vo.length)},c.prototype.push=function(a){a instanceof Array?this._vo.push.apply(this._vo,a):arguments.length>1?this._vo.push.apply(this._vo,Array.prototype.slice.call(arguments)):this._vo.push(a)},c.prototype.indexOf=function(a){for(var b=0;b<this._vo.length;b++)if(this._vo[b]==a)return b;return-1},c.prototype.splice=function(){return this._vo.splice.apply(this._vo,arguments)},c.prototype.index=function(a){return this._vo[a]},c.prototype.flush=function(){return this.empty().join("")},c.prototype.toString=c.prototype.toHtmlString=function(){return this._vo.join("")};var g=vash.Mark=function(a,b){this.uid="[VASHMARK-"+~~(Math.random()*1e7)+(b?":"+b:"")+"]",this.markedIndex=0,this.buffer=a,this.destroyed=!1},h=/\[VASHMARK\-\d{1,8}(?::[\s\S]+?)?]/g;g.uidLike=function(a){return(a||"").search(h)>-1},g.prototype.destroy=function(){var a=this.findInBuffer();a>-1&&(this.buffer.splice(a,1),this.markedIndex=-1),this.destroyed=!0},g.prototype.findInBuffer=function(){return this.destroyed?-1:this.markedIndex&&this.buffer.index(this.markedIndex)===this.uid?this.markedIndex:this.markedIndex=this.buffer.indexOf(this.uid)},vash.link=function(a,b){b=b||vash.helpers.constructor;var c=function(c,d){typeof d=="function"&&(d={onRenderEnd:d}),d=d||{},c&&c.onRenderEnd&&d&&!d.onRenderEnd&&(d.onRenderEnd=c.onRenderEnd),c&&c.onRenderEnd&&delete c.onRenderEnd;return a(c,d&&d.context||new b(c),d)};c.toString=function(){return a.toString()},c.toClientString=function(){return"vash.link( "+a.toString()+" )"};return c},a.constructor.reportError=function(a,b,c,d,e){e=e||"!LB!";var f=d.split(e),g=b===0&&c===0?f.length-1:3,h=Math.max(0,b-g),i=Math.min(f.length,b+g),j=f.slice(h,i).map(function(a,c,d){var e=c+h+1;return(e===b?"  > ":"    ")+(e<10?" ":"")+e+" | "+a}).join("\n");a.message="Problem while rendering template at line "+b+", character "+c+".\nOriginal message: "+a.message+"."+"\nContext: \n\n"+j+"\n\n";throw a},a.reportError=function(){this.constructor.reportError.apply(this,arguments)}})()
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>vash</title>
		
	</head>
	<body id="" onload="">
		
		<script src="../src/vlexer.js" type="text/javascript" charset="utf-8"></script>
		<script src="../src/vparser.js" type="text/javascript" charset="utf-8"></script>
		<script src="../src/vast.js" type="text/javascript" charset="utf-8"></script>
		<script src="../src/vcompiler.js" type="text/javascript" charset="utf-8"></script>
		<script src="../src/vash.exports.js" type="text/javascript" charset="utf-8"></script>
		<!--<script src="../build/vash.js" type="text/javascript" charset="utf-8"></script>-->
		<!--<script type="text/javascript" src="http://closure-compiler.appspot.com/code/jsc29b5e4a24021c0352c9d9113aa18bf74/default.js"></script>-->
		<script id="test" type="text/razor-js" charset="utf-8"><span>@vash.raw(it)</span></script>

		<script type="text/javascript" charset="utf-8">
			
			
			//console.log(tmpl);
			
			//var tmpl = parse( document.querySelectorAll('#test-for')[0].innerHTML );
			//console.log(tmpl);
			
			//var tokens = vash._parse( document.querySelectorAll('#test-block')[0].innerHTML );
			//var tokens = vash._parse( document.querySelectorAll('#test-exp-simple')[0].innerHTML );
			//var tokens = vash._parse( document.querySelectorAll('#test-exp')[0].innerHTML );
			//var tokens = vash._parse( document.querySelectorAll('#test-for')[0].innerHTML );
			//var tokens = vash._parse( document.querySelectorAll('#test-for-for')[0].innerHTML );
			//var tokens = vash._parse( document.querySelectorAll('#test-textescape')[0].innerHTML );
			
			//console.log(tokens);
			//var tmpl = vash._generate(tokens, true)
			//console.log(tmpl);
			
			//console.log( tmpl({
			//	 i: 2
			//	,what: { how: function() { return 'G'; } }
			//	,title: "Mr"
			//	,name: "Doob"
			//	,model: {
			//		name: "what"
			//	}
			//	,className: 'blue'
			//	,itemName: 'the item is blue'
			//	,somearr: ['a', 'b', 'c', 'd']
			//	,anotherarr: ['z', 'y', 'x', 'w']
			//}) )
			
			//console.log( tmpl({
			//	somearr: ['a', 'b', 'c', 'd']
			//	,i: 2
			//}) )
			
			var opts = { debugParser: true, debugCompiler: true, debug: true, modelName: 'model' }

			var lexerContent = document.querySelectorAll('#test')[0].innerHTML;
			console.log(lexerContent);
			var l = new VLexer(lexerContent);
			
			var tokens = [], tok;
			while(tok = l.advance()) tokens.push(tok);
			tokens.reverse();

			var p = new VParser(tokens, opts);
			var ast = p.parse();

			var c = new VCompiler(ast, lexerContent);
			c.debug = true;

		</script>
	</body>
</html>